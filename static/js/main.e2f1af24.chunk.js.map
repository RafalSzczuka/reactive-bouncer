{"version":3,"sources":["sounds/wallhit.mp3","sounds/bouncer.mp3","Bouncer/config.js","Bouncer/Ball.js","Bouncer/drawElements.js","Bouncer/Canvas.js","App.js","index.js"],"names":["module","exports","board","width","length","height","wallHit","Audio","wallhit","bouncerHit","bouncer","wallHitSound","currentTime","play","Ball","position","vector","this","hitCounter","stepCounter","x","y","xV","yV","randomVector","Math","random","bouncerCheck","collisionCheck","drawBoard","canvas","ctx","clearRect","i","j","fillStyle","fillRect","beginPath","arc","size","PI","fill","drawBall","ball","closePath","ballInitialPosition","getBallPosition","ballEndPosition","Object","assign","Canvas","ref","useRef","useState","hits","addHits","steps","addSteps","animation","setAnimation","id","setId","useEffect","current","getContext","setInterval","move","clearInterval","className","onClick","window","location","reload","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e2f1af24.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/wallhit.feb0de84.mp3\";","module.exports = __webpack_public_path__ + \"static/media/bouncer.2b8d4f8b.mp3\";","const ballInitialVector = { x: 1, y: 1 };\r\nconst size = 50;\r\nconst fps = 18;\r\n\r\n// const board = [\r\n//   [\"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\"],\r\n//   [\"X\", \"1\", \"0\", \"0\", \"0\", \"0\", \"X\"],\r\n//   [\"X\", \"0\", \"0\", \"0\", \"0\", \"0\", \"X\"],\r\n//   [\"X\", \"0\", \"0\", \"0\", \"0\", \"0\", \"X\"],\r\n//   [\"X\", \"0\", \"0\", \"0\", \"0\", \"0\", \"X\"],\r\n//   [\"X\", \"0\", \"0\", \"0\", \"0\", \"0\", \"X\"],\r\n//   [\"X\", \"0\", \"0\", \"0\", \"0\", \"0\", \"X\"],\r\n//   [\"X\", \"0\", \"0\", \"0\", \"0\", \"0\", \"X\"],\r\n//   [\"X\", \"0\", \"0\", \"0\", \"0\", \"0\", \"X\"],\r\n//   [\"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\"],\r\n// ];\r\n\r\nconst board = [\r\n  [\"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\"],\r\n  [\"X\", \"1\", \"0\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\"],\r\n  [\"X\", \"0\", \"0\", \"0\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\"],\r\n  [\"X\", \"0\", \"0\", \"0\", \"0\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\"],\r\n  [\"X\", \"0\", \"0\", \"0\", \"0\", \"0\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\"],\r\n  [\"X\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"X\", \"X\", \"X\", \"X\", \"X\"],\r\n  [\"X\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"X\", \"X\", \"X\", \"X\"],\r\n  [\"X\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"X\"],\r\n  [\"X\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"X\"],\r\n  [\"X\", \"0\", \"0\", \"0\", \"X\", \"0\", \"0\", \"0\", \"0\", \"Y\", \"0\", \"X\"],\r\n  [\"X\", \"0\", \"0\", \"X\", \"X\", \"X\", \"0\", \"0\", \"0\", \"0\", \"0\", \"X\"],\r\n  [\"X\", \"0\", \"0\", \"0\", \"X\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"X\"],\r\n  [\"X\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"X\"],\r\n  [\"X\", \"0\", \"0\", \"Y\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"X\"],\r\n  [\"X\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"0\", \"X\"],\r\n  [\"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\", \"X\"],\r\n];\r\n\r\nconst getBallPosition = () => {\r\n  let position;\r\n\r\n  for (let i = 0; i < board.length; i++) {\r\n    for (let j = 0; j < board[i].length; j++) {\r\n      if (board[i][j] === \"1\") {\r\n        position = { x: j, y: i };\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return position;\r\n};\r\n\r\nconst width = board[0].length * size;\r\nconst height = board.length * size;\r\n\r\nexport { board, ballInitialVector, width, height, size, fps, getBallPosition };\r\n","import wallhit from \"../sounds/wallhit.mp3\";\r\nimport bouncer from \"../sounds/bouncer.mp3\";\r\nimport { board } from \"./config\";\r\n\r\n// *** hit sounds\r\nconst wallHit = new Audio(wallhit);\r\nconst bouncerHit = new Audio(bouncer);\r\n\r\nconst wallHitSound = () => {\r\n  wallHit.currentTime = 0;\r\n  wallHit.play();\r\n};\r\nconst bouncerHitSound = () => {\r\n  bouncerHit.currentTime = 0;\r\n  bouncerHit.play();\r\n};\r\n// ***\r\n\r\nexport default class Ball {\r\n  constructor(position, vector) {\r\n    this.position = position;\r\n    this.vector = vector;\r\n    this.hitCounter = 0;\r\n    this.stepCounter = 0;\r\n  }\r\n\r\n  collisionCheck() {\r\n    let x = this.position.x,\r\n      y = this.position.y,\r\n      xV = this.position.x + this.vector.x,\r\n      yV = this.position.y + this.vector.y;\r\n\r\n    if (board[y][xV] === \"X\") {\r\n      this.vector.x = -this.vector.x;\r\n      this.hitCounter++;\r\n      wallHitSound();\r\n    }\r\n    if (board[yV][x] === \"X\") {\r\n      this.vector.y = -this.vector.y;\r\n      this.hitCounter++;\r\n      wallHitSound();\r\n    }\r\n    if (board[y][xV] === \"0\" && board[yV][x] === \"0\" && board[yV][xV] === \"X\") {\r\n      this.vector.x = -this.vector.x;\r\n      this.vector.y = -this.vector.y;\r\n      this.hitCounter++;\r\n      wallHitSound();\r\n    }\r\n  }\r\n\r\n  bouncerCheck() {\r\n    const randomVector = Math.random() > 0.5 ? 1 : -1;\r\n\r\n    let x = this.position.x,\r\n      y = this.position.y;\r\n\r\n    if (board[y][x] === \"Y\") {\r\n      board[y][x] = \"0\";\r\n      this.hitCounter++;\r\n      bouncerHitSound();\r\n\r\n      this.vector.y = randomVector;\r\n    }\r\n  }\r\n\r\n  move() {\r\n    this.bouncerCheck();\r\n    this.collisionCheck();\r\n\r\n    this.position.x += this.vector.x;\r\n    this.position.y += this.vector.y;\r\n\r\n    this.stepCounter++;\r\n  }\r\n}\r\n","import { board, size } from \"./config\";\r\n\r\n// draw board in canvas\r\nexport const drawBoard = (canvas, ctx) => {\r\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n  for (let i = 0; i < board.length; i++) {\r\n    for (let j = 0; j < board[i].length; j++) {\r\n      let x = j;\r\n      let y = i;\r\n      if (board[i][j] === \"X\") {\r\n        ctx.fillStyle = \"rgb(150,150,150)\";\r\n        ctx.fillRect(x * size, y * size, size, size);\r\n      }\r\n      if (board[i][j] === \"Y\") {\r\n        ctx.beginPath();\r\n        ctx.fillStyle = \"blue\";\r\n        ctx.arc(\r\n          x * size + size / 2,\r\n          y * size + size / 2,\r\n          size / 2,\r\n          0,\r\n          2 * Math.PI\r\n        );\r\n        ctx.fill();\r\n\r\n        ctx.beginPath();\r\n        ctx.fillStyle = \"lightblue\";\r\n        ctx.arc(\r\n          x * size + size / 2,\r\n          y * size + size / 2,\r\n          size / 2.5,\r\n          0,\r\n          2 * Math.PI\r\n        );\r\n        ctx.fill();\r\n\r\n        ctx.beginPath();\r\n        ctx.fillStyle = \"blue\";\r\n        ctx.arc(\r\n          x * size + size / 2,\r\n          y * size + size / 2,\r\n          size / 5,\r\n          0,\r\n          2 * Math.PI\r\n        );\r\n        ctx.fill();\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n// draw ball in canvas\r\nexport const drawBall = (ctx, ball) => {\r\n  ctx.beginPath();\r\n  ctx.arc(\r\n    ball.position.x * size + size / 2,\r\n    ball.position.y * size + size / 2,\r\n    size / 2,\r\n    0,\r\n    2 * Math.PI\r\n  );\r\n  ctx.closePath();\r\n  ctx.fillStyle = \"red\";\r\n\r\n  ctx.fill();\r\n};\r\n","import React, { useRef, useEffect, useState } from \"react\";\r\nimport { width, height } from \"./config\";\r\nimport Ball from \"./Ball\";\r\nimport { ballInitialVector, fps, getBallPosition } from \"./config\";\r\nimport { drawBoard, drawBall } from \"./drawElements\";\r\n\r\nconst ballInitialPosition = getBallPosition();\r\nlet ball = new Ball(ballInitialPosition, ballInitialVector);\r\n\r\nconst ballEndPosition = Object.assign({}, ballInitialPosition);\r\n\r\nconst Canvas = () => {\r\n  let ref = useRef();\r\n  let [hits, addHits] = useState(0);\r\n  let [steps, addSteps] = useState(0);\r\n  let [animation, setAnimation] = useState(false);\r\n  let [id, setId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let canvas = ref.current;\r\n    let ctx = canvas.getContext(\"2d\");\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    drawBoard(canvas, ctx);\r\n    drawBall(ctx, ball);\r\n\r\n    const drawFrame = () => {\r\n      drawBoard(canvas, ctx);\r\n      ball.move();\r\n      drawBall(ctx, ball);\r\n\r\n      addHits(ball.hitCounter);\r\n      addSteps(ball.stepCounter);\r\n      if (\r\n        ball.position.x === ballEndPosition.x &&\r\n        ball.position.y === ballEndPosition.y\r\n      ) {\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        ball.vector.x = 1;\r\n        ball.vector.y = 1;\r\n        ball.hitCounter = 0;\r\n        ball.stepCounter = 0;\r\n        setAnimation(false);\r\n        drawBoard(canvas, ctx);\r\n        drawBall(ctx, ball);\r\n        return;\r\n      }\r\n    };\r\n\r\n    if (animation) {\r\n      setId(setInterval(drawFrame, 1000 / fps));\r\n    } else {\r\n      clearInterval(id);\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [animation]);\r\n  return (\r\n    <>\r\n      <canvas ref={ref} width={width} height={height}></canvas>\r\n      <div className=\"buttons\">\r\n        <button className=\"btn_start\" onClick={() => setAnimation(!animation)}>\r\n          {animation ? \"Pause\" : \"Start\"}\r\n        </button>\r\n        <button className=\"btn_reset\" onClick={() => window.location.reload()}>\r\n          Reset\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"counter\">\r\n        <p className=\"hits\">\r\n          Steps counter: <span>{steps}</span>\r\n        </p>\r\n        <p className=\"hits\">\r\n          Hits counter: <span>{hits}</span>\r\n        </p>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Canvas;\r\n","import React from \"react\";\nimport Canvas from \"../src/Bouncer/Canvas\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <h1>Bouncer</h1>\n      <Canvas></Canvas>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}